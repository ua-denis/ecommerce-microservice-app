framework:
  messenger:
    buses:
      # Default bus for sending messages
      default:
        default_middleware: true

    routing:
      'App\Domain\Event\ProductCreated': async
      'App\Domain\Event\StockUpdated': async

    # Transport configuration
    transports:
      async: '%env(MESSENGER_TRANSPORT_DSN)%'

    # Middleware configuration
    #middleware:
    #  - 'messenger.middleware.some_custom_middleware'

# when@test:
#    framework:
#        messenger:
#            transports:
#                # replace with your transport name here (e.g., my_transport: 'in-memory://')
#                # For more Messenger testing tools, see https://github.com/zenstruck/messenger-test
#                async: 'in-memory://'
